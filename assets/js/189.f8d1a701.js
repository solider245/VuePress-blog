(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{359:function(s,n,e){"use strict";e.r(n);var a=e(25),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#dockerfile介绍"}},[s._v("dockerFile介绍")])]),e("li",[e("a",{attrs:{href:"#dockerfile构建"}},[s._v("dockerFile构建")])]),e("li",[e("a",{attrs:{href:"#dockerfile的指令"}},[s._v("dockerFile的指令")])]),e("li",[e("a",{attrs:{href:"#实战测试"}},[s._v("实战测试")])]),e("li",[e("a",{attrs:{href:"#docker-hub-中99-镜像都是从这个基础镜像过来的-from-scratch，然后配置需要的软件和配置"}},[s._v("docker Hub \n中99%镜像都是从这个基础镜像过来的 FROM scratch，然后配置需要的软件和配置")])]),e("li",[e("a",{attrs:{href:"#tomcat"}},[s._v("tomcat")])])])]),e("p"),s._v(" "),e("h2",{attrs:{id:"dockerfile介绍"}},[s._v("dockerFile介绍")]),s._v(" "),e("p",[s._v("dockerfile是用来构建docker镜像的文件！命令参数脚本")]),s._v(" "),e("p",[s._v("构建步骤：")]),s._v(" "),e("p",[s._v("1.编写一个dockerfile文件")]),s._v(" "),e("p",[s._v("2.docker build 构建成一个镜像")]),s._v(" "),e("p",[s._v("3.docker run 运行镜像")]),s._v(" "),e("p",[s._v("4.dokcer push 发布镜像（dockerHub 、阿里云镜像仓库）")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://pic3.zhimg.com/v2-c65fcae3c50ab715a080e39736e0343c_b.jpg",alt:""}})]),s._v(" "),e("p",[e("img",{attrs:{src:"https://pic1.zhimg.com/v2-26bef73d90b6a5ab4db683714d7b81eb_b.jpg",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"dockerfile构建"}},[s._v("dockerFile构建")]),s._v(" "),e("blockquote",[e("p",[s._v("基础知识：")])]),s._v(" "),e("p",[s._v("1.每个保留关键字（指令）都必须是大写字母")]),s._v(" "),e("p",[s._v("2.执行从上到下顺序执行")]),s._v(" "),e("p",[s._v("3.# 表示注释")]),s._v(" "),e("p",[s._v("4.每一个指令都会创建提交一个新的镜像层并，并且提交！")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://picb.zhimg.com/v2-1f3af76de082dee7e4448632ba4083a8_b.jpg",alt:""}})]),s._v(" "),e("p",[s._v("dockerfile是面向开发的，以后要发布项目，做镜像，就需要编写dockerfile文件，这个文件十分简单！")]),s._v(" "),e("p",[s._v("Docker 逐渐成为了企业交付的标准，必须要掌握！")]),s._v(" "),e("blockquote",[e("p",[s._v("步骤：开发 部署 运维")])]),s._v(" "),e("p",[s._v("Dockerfile:构建文件，定义了一切步骤，源代码")]),s._v(" "),e("p",[s._v("DockerImages：通过dockerFile构建生成的镜像，最终要发布和运行的产品。原来是 jar war")]),s._v(" "),e("p",[s._v("Docker容器：容器就是镜像运行起来提供服务的")]),s._v(" "),e("h2",{attrs:{id:"dockerfile的指令"}},[s._v("dockerFile的指令")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://pic4.zhimg.com/v2-ac23c30b112766bc34dca4070ae96a7b_b.jpg",alt:""}})]),s._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("FROM    #基础镜像，一切从这里构建  centos   untn\n\nMAINTAINER   #镜像是谁写的，性名+邮箱\n\nRUN       # docker 镜像构建的时候要运行的命令\n\nADD       # 步骤，tomcat镜像，这个tomcat压缩包！添加内容\n\nWORKDIR   # 镜像的工作目录\n\nVOLUME    # 挂载卷的目录位置\n\nEXPOSE   # 暴露端口配 \n\nCMD       # 指定这个容器启动的时候要运行的命令，只有最后一个会生效，可被替代\n\nENTRYPOINT    # 指定这个容器启动的时候要运行的命令，可追加命令\n\nONBUILD     # 当构建一个被继承 dockerfile这个时候就会运行ONBUILD指令\n\nCOPY       # 类似ADD命令，将文件拷贝到镜像中\n\nENV        # 构建的时候设置环境变量\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("h2",{attrs:{id:"实战测试"}},[s._v("实战测试")]),s._v(" "),e("h2",{attrs:{id:"docker-hub中99-镜像都是从这个基础镜像过来的-from-scratch，然后配置需要的软件和配置"}},[s._v("docker Hub\n中99%镜像都是从这个基础镜像过来的 FROM scratch，然后配置需要的软件和配置")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://pic1.zhimg.com/v2-26bef73d90b6a5ab4db683714d7b81eb_b.jpg",alt:""}})]),s._v(" "),e("blockquote",[e("p",[s._v("创建一个自己的centos")])]),s._v(" "),e("div",{staticClass:"language-text line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('# 1.编写配置文件 dockerfile\n[root@localhost /]# cd home\n[root@localhost home]# ls\ndocker-test-volume  mysql  test\n[root@localhost home]# mkdir dockerfile\n[root@localhost home]# cd dockerfile\n[root@localhost dockerfile]# \n[root@localhost dockerfile]# cat mydockerfile\nFROM  centos\n\nMAINTAINER  pengfan<2366682276@qq.com> \n\nENV   MYPATH  /usr/local\nWORKDIR   $MYPATH  \n\nRUN yun  -y install  vim \nRUN yun -y install  net-tools\n\n\nEXPOSE 80\n\nCMD echo $MYPATH   # 输出MYPATH\nCMD echo  "----end----"\n\nCMD  /bin/bash \n\n[root@localhost dockerfile]#  docker build -f  mydockerfile -t  mycentos .\n\n#2.通过文件构建镜像  docker build -f  mydockerfile -t  mycentos .\n \n# build 构建\n# -f   dockerfile  (mydockerfile命令文件路径)\n# -t   目标 （镜像名:tag）\n#  .  当前目录\n\n\n# 3. docker run -it mycentos\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br")])]),e("p",[s._v("我们可以列出 镜像的制作历史")]),s._v(" "),e("p",[s._v("docker history [id]")]),s._v(" "),e("h2",{attrs:{id:"tomcat"}},[s._v("tomcat")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//www.bilibili.com/video/BV1og4y1q7M4%3Fp%3D30",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.bilibili.com/video/BV1og4y1q7M4?p=30​www.bilibili.com"),e("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=t.exports}}]);