(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{511:function(e,t,s){"use strict";s.r(t);var a=s(25),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#简介"}},[e._v("简介")])]),s("li",[s("a",{attrs:{href:"#优点"}},[e._v("优点")])]),s("li",[s("a",{attrs:{href:"#安装"}},[e._v("安装")])]),s("li",[s("a",{attrs:{href:"#使用"}},[e._v("使用")]),s("ul",[s("li",[s("a",{attrs:{href:"#用-vim-打开文件"}},[e._v("用 vim 打开文件")])]),s("li",[s("a",{attrs:{href:"#切换当前工作目录"}},[e._v("切换当前工作目录")])]),s("li",[s("a",{attrs:{href:"#切换-git-分支"}},[e._v("切换 git 分支")])]),s("li",[s("a",{attrs:{href:"#shell-命令行补全"}},[e._v("shell 命令行补全")])])])]),s("li",[s("a",{attrs:{href:"#配置"}},[e._v("配置")]),s("ul",[s("li",[s("a",{attrs:{href:"#核心命令-fzf-default-command"}},[e._v("核心命令 FZF_DEFAULT_COMMAND")])]),s("li",[s("a",{attrs:{href:"#界面展示-fzf-default-opts"}},[e._v("界面展示 FZF_DEFAULT_OPTS")])]),s("li",[s("a",{attrs:{href:"#触发命令行补全-fzf-completion-trigger"}},[e._v("触发命令行补全 FZF_COMPLETION_TRIGGER")])])])]),s("li",[s("a",{attrs:{href:"#vim-fzf-插件"}},[e._v("VIM fzf 插件")]),s("ul",[s("li",[s("a",{attrs:{href:"#安装插件"}},[e._v("安装插件")])])])]),s("li",[s("a",{attrs:{href:"#结语"}},[e._v("结语")])])])]),s("p"),e._v(" "),s("h2",{attrs:{id:"简介"}},[e._v("简介")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/junegunn/fzf",target:"_blank",rel:"noopener noreferrer"}},[e._v("Fuzzy finder"),s("OutboundLink")],1),e._v(" 是一款使用 GO 语言编写的交互式的 Unix 命令行工具。可以用来查找任何 "),s("strong",[e._v("列表")]),e._v(" 内容，文件、Git 分支、进程等。所有的命令行工具可以生成列表输出的都可以再通过管道 pipe 到 fzf 上进行搜索和查找")]),e._v(" "),s("h2",{attrs:{id:"优点"}},[e._v("优点")]),e._v(" "),s("ul",[s("li",[e._v("GO 语言编写，编译完生成可执行文件没有任何依赖")]),e._v(" "),s("li",[e._v("搜索/查找速度飞快")]),e._v(" "),s("li",[e._v("功能全面/可视化界面体验很棒")]),e._v(" "),s("li",[e._v("周边插件丰富 (vim, tmux, fuzzy auto-completion)")])]),e._v(" "),s("h2",{attrs:{id:"安装"}},[e._v("安装")]),e._v(" "),s("p",[e._v("以 macOS 为例子，直接使用 homebrew 安装即可")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("brew install fzf\n\n$(brew --prefix)/opt/fzf/install\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("h2",{attrs:{id:"使用"}},[e._v("使用")]),e._v(" "),s("p",[e._v("命令行下执行 "),s("code",[e._v("fzf")]),e._v(" 即可展示当前目录下所有文件列表，可以用键盘上下键或者鼠标点出来选择 "),s("a",{attrs:{href:"https://img10.360buyimg.com/devfe/jfs/t26002/277/432949068/59208/9725245b/5b6fc71fN03036763.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img10.360buyimg.com/devfe/jfs/t26002/277/432949068/59208/9725245b/5b6fc71fN03036763.png",alt:""}}),e._v(" "),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("或许你会觉得这个查找提示看起来挺漂亮的，但是并没有什么卵用，因为查找出来就没有然后了。其实这也是 Fuzzy finder 最核心的地方，他只是一个通用的下拉查找功能，自己本身并不关心你用它来做什么，通常我们需要组合使用才会有很好的效果")]),e._v(" "),s("h3",{attrs:{id:"用-vim-打开文件"}},[e._v("用 vim 打开文件")]),e._v(" "),s("p",[e._v("比如我们用 vim 组合 fzf 来查找并打开目录下的文件：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("vim $(fzf)\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://img30.360buyimg.com/devfe/jfs/t25372/5/461999989/83158/3ce44a5/5b6fc7f2Nd6432499.gif",alt:""}})]),e._v(" "),s("h3",{attrs:{id:"切换当前工作目录"}},[e._v("切换当前工作目录")]),e._v(" "),s("p",[e._v("再比如进入到某个文件夹下面，使用 fzf 的过滤选择真是太方便了")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cd $(find * -type d | fzf)\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("这是个组合 (cd+find+fzf) 命令，完成切换到任意子目录的功能。可以看出来当 fzf 和其它命令组合使用时就能使得一些操作更方便：")]),e._v(" "),s("ol",[s("li",[e._v("使用 find 命令找出所有的子目录")]),e._v(" "),s("li",[e._v("把子目录列表 pipe 到 fzf 上进行选择")]),e._v(" "),s("li",[e._v("再把结果以子命令的形式传给 cd")])]),e._v(" "),s("p",[s("img",{attrs:{src:"https://img13.360buyimg.com/devfe/jfs/t23848/96/1951894215/50884/20a513d7/5b6fcabbNb77c46d5.gif",alt:""}})]),e._v(" "),s("h3",{attrs:{id:"切换-git-分支"}},[e._v("切换 git 分支")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("git checkout $(git branch -r | fzf)\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://img10.360buyimg.com/devfe/jfs/t23242/262/2000817850/127859/c0955478/5b6fce70N3c3573ae.gif",alt:""}})]),e._v(" "),s("p",[e._v("不过这样组合使用命令的实在太长了，如果你不使用自动补全的话巧起来很累的。建议把常用的 alias 放在 .zshrc 中管理嘛")]),e._v(" "),s("h3",{attrs:{id:"shell-命令行补全"}},[e._v("shell 命令行补全")]),e._v(" "),s("p",[e._v("fzf 默认使用 "),s("code",[e._v("**")]),e._v(" 来补全 shell 命令，比起默认的 tab 补全，fzf 补全不知道高到哪里去了。cd, vim, kill, ssh, export… 统统都能补全，好用哭了 🤣")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://img10.360buyimg.com/devfe/jfs/t24820/280/435378103/490486/3777afba/5b6fedc6N59529380.gif",alt:""}})]),e._v(" "),s("h2",{attrs:{id:"配置"}},[e._v("配置")]),e._v(" "),s("p",[e._v("fzf 提供了两个 "),s("em",[e._v("环境变量")]),e._v(" 配置参数，来分别设置默认的调用命令和 fzf 默认配置参数")]),e._v(" "),s("h3",{attrs:{id:"核心命令-fzf-default-command"}},[e._v("核心命令 FZF_DEFAULT_COMMAND")]),e._v(" "),s("p",[e._v("对于使用 fzf 来查找文件的情况，fzf 其实底层是调用的 Unix 系统 "),s("code",[e._v("find")]),e._v(" 命令，如果你觉得 find 不好用也可以使用其它查找文件的命令行工具「我使用 "),s("a",{attrs:{href:"https://github.com/sharkdp/fd",target:"_blank",rel:"noopener noreferrer"}},[e._v("fd"),s("OutboundLink")],1),e._v("」。注意：对原始命令添加一些参数应该在这个环境变量里面添加")]),e._v(" "),s("p",[e._v("比如说我们一般都会查找文件 "),s("code",[e._v("-type f")]),e._v("，通常会忽略一些文件夹/目录 "),s("code",[e._v("--exclude=...")]),e._v("，下面是我的变量值：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('export FZF_DEFAULT_COMMAND="fd --exclude={.git,.idea,.vscode,.sass-cache,node_modules,build} --type f"\n\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h3",{attrs:{id:"界面展示-fzf-default-opts"}},[e._v("界面展示 FZF_DEFAULT_OPTS")]),e._v(" "),s("p",[e._v("界面展示这些参数在 "),s("code",[e._v("fzf --help")]),e._v(" 中都有，按需配置即可")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("export FZF_DEFAULT_OPTS=\"--height 40% --layout=reverse --preview '(highlight -O ansi {} || cat {}) 2> /dev/null | head -500'\"\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("界面配置参数加上后就漂亮多了 "),s("a",{attrs:{href:"https://img11.360buyimg.com/devfe/jfs/t24178/228/1983729650/93496/412c5c52/5b6fd697N0d686b66.png",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://img11.360buyimg.com/devfe/jfs/t24178/228/1983729650/93496/412c5c52/5b6fd697N0d686b66.png",alt:""}}),e._v(" "),s("OutboundLink")],1)]),e._v(" "),s("p",[s("code",[e._v("--preview")]),e._v(" 表示在右侧显示文件的预览界面，语法高亮的设置使用了 "),s("a",{attrs:{href:"http://www.andre-simon.de/doku/highlight/en/highlight.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("highlight"),s("OutboundLink")],1),e._v(" 如果 highlight 失败则使用最常见的 "),s("code",[e._v("cat")]),e._v(" 命令来查看文件内容")]),e._v(" "),s("p",[e._v("highlight 安装可能会有个小插曲。highlight 需要手动编译安装，默认安装目录在 "),s("code",[e._v("/usr/bin")]),e._v(", "),s("code",[e._v("/usr/share")]),e._v(" 下面。然而在 macOS 中由于 SIP 保护，用户安装的程序不能在这几个目录下面「即使有 sudo 权限也不行」。我们可以手动更改下 highlight 源代码中 makefile 中的参数即可")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# PREFIX = /usr\nPREFIX = /usr/local\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[e._v("将 "),s("code",[e._v("PREFIX = /usr")]),e._v(" 改成 "),s("code",[e._v("PREFIX = /usr/local")]),e._v("，然后 "),s("code",[e._v("make")]),e._v("，"),s("code",[e._v("sudo make install")]),e._v(" 就可以了")]),e._v(" "),s("h3",{attrs:{id:"触发命令行补全-fzf-completion-trigger"}},[e._v("触发命令行补全 FZF_COMPLETION_TRIGGER")]),e._v(" "),s("p",[e._v("默认是 "),s("code",[e._v("**")]),e._v("，一般不用修改")]),e._v(" "),s("h2",{attrs:{id:"vim-fzf-插件"}},[e._v("VIM fzf 插件")]),e._v(" "),s("p",[e._v("如果你使用 vim，那么官方提供的插件会让你的 vim 使用更加流畅")]),e._v(" "),s("h3",{attrs:{id:"安装插件"}},[e._v("安装插件")]),e._v(" "),s("p",[e._v("如果你本地安装过 fzf 命令行工具了，只需要在 .vimrc 里面添加下面两个插件配置即可")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Plug '/usr/local/opt/fzf'\nPlug 'junegunn/fzf.vim'\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[e._v("注意：使用了 "),s("a",{attrs:{href:"https://github.com/junegunn/vim-plug",target:"_blank",rel:"noopener noreferrer"}},[e._v("vim-plug"),s("OutboundLink")],1),e._v(" 插件管理")]),e._v(" "),s("p",[e._v("插件主要对 fzf 集成绑定了一些和 vim 相关的功能，比如：查找当前 Buffer、Tag、Marks。甚至切换 window 更换 vim 主题配色等")]),e._v(" "),s("p",[e._v("命令模式下敲 "),s("code",[e._v("Files")]),e._v(" 即可选择当前目录下所有文件，"),s("code",[e._v("Buffers")]),e._v(" 可以过滤当前所有 vim buffer 内容")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://img10.360buyimg.com/devfe/jfs/t25240/349/434572567/558564/433c151a/5b6fdfadNfd6ea407.gif",alt:""}})]),e._v(" "),s("p",[e._v("再配置几个常用快捷键就可以直接取代 CtrlP 插件了 🤔")]),e._v(" "),s("ul",[s("li",[e._v("Ctrl + p 查看文件列表")]),e._v(" "),s("li",[e._v("Ctrl + e 查看当前 Buffer，两次 Ctrl + e 快速切换上次打开的 Buffer")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("nmap <C-p> :Files<CR>\nnmap <C-e> :Buffers<CR>\nlet g:fzf_action = { 'ctrl-e': 'edit' }\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("h2",{attrs:{id:"结语"}},[e._v("结语")]),e._v(" "),s("p",[e._v("当然 fzf 还可以在很多其它场景下用来。如果你想使用可视化的列表选择而不是咣咣敲命令，那就自己搭配一些组合来使用吧")])])}),[],!1,null,null,null);t.default=r.exports}}]);