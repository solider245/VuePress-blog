(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{508:function(t,e,r){"use strict";r.r(e);var s=r(25),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#installation-installation"}},[t._v("Installation")])]),r("li",[r("a",{attrs:{href:"#demo-demo"}},[t._v("Demo")])]),r("li",[r("a",{attrs:{href:"#configuration-configuration"}},[t._v("Configuration")]),r("ul",[r("li",[r("a",{attrs:{href:"#fzf-default-command-fzf-default-command"}},[t._v("FZF_DEFAULT_COMMAND")])]),r("li",[r("a",{attrs:{href:"#fzf-default-opts-fzf-default-opts"}},[t._v("FZF_DEFAULT_OPTS")])])])]),r("li",[r("a",{attrs:{href:"#常见的一些操作-常见的一些操作"}},[t._v("常见的一些操作")]),r("ul",[r("li",[r("a",{attrs:{href:"#历史记录搜索-历史记录搜索"}},[t._v("历史记录搜索")])]),r("li",[r("a",{attrs:{href:"#历史命令-ctrl-r-历史命令-ctrl-r"}},[t._v("历史命令 Ctrl-r")])]),r("li",[r("a",{attrs:{href:"#搜索当前文件夹-ctrl-t-搜索当前文件夹-ctrl-t"}},[t._v("搜索当前文件夹 Ctrl-t")])]),r("li",[r("a",{attrs:{href:"#多选-多选"}},[t._v("多选")])]),r("li",[r("a",{attrs:{href:"#更改路径-更改路径"}},[t._v("更改路径")])]),r("li",[r("a",{attrs:{href:"#kill-process-kill-process"}},[t._v("Kill Process")])]),r("li",[r("a",{attrs:{href:"#tmux-tmux"}},[t._v("Tmux")])]),r("li",[r("a",{attrs:{href:"#alt-c-alt-c"}},[t._v("Alt-c")])])])]),r("li",[r("a",{attrs:{href:"#搜索语法-搜索语法"}},[t._v("搜索语法")])]),r("li",[r("a",{attrs:{href:"#扩展阅读-扩展阅读"}},[t._v("扩展阅读")])]),r("li",[r("a",{attrs:{href:"#reference-reference"}},[t._v("reference")])])])]),r("p"),t._v(" "),r("p",[t._v("今天在闲逛"),r("a",{attrs:{href:"https://crispgm.com/page/how-to-be-a-100x-programmer.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("博客"),r("OutboundLink")],1),t._v(" 的时候偶然发现 "),r("a",{attrs:{href:"https://crispgm.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("crispgm"),r("OutboundLink")],1),t._v(" 所写的文章，其中推荐了 fzf 这款模糊搜寻工具，所以立马上手体验了一下。")]),t._v(" "),r("p",[t._v("fzf 是一个通用的命令行模糊搜索工具，用 golang 编写，大家的评价都是目前最快的 fuzzy finder，配合 "),r("RouterLink",{attrs:{to:"/post/2019/04/the-silver-searcher.html"}},[t._v("ag")]),t._v(" 的使用，依靠模糊的关键词，可以快速定位文件。配合一些脚本，可以完全颠覆以前使用命令行的工作方式。")],1),t._v(" "),r("h2",{attrs:{id:"installation"}},[t._v("Installation"),r("a",{attrs:{href:"#installation"}})]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf  ~/.fzf/install\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("p",[t._v("or upgrade")]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("cd ~/.fzf && git pull && ./install\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("h2",{attrs:{id:"demo"}},[t._v("Demo"),r("a",{attrs:{href:"#demo"}})]),t._v(" "),r("p",[t._v("最直接的使用方式就是在终端输入：")]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("fzf\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("p",[t._v("或者 fzf 可以接受 stdin，比如使用命令")]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("find *  -type f | fzf\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("p",[t._v("此时会进入 fzf 的交互窗口，在交互窗口中可以使用 Ctrl + n 或者 Ctrl + p 来上下移动光标。使用 Enter 选中条目")]),t._v(" "),r("p",[t._v("其他常用：")]),t._v(" "),r("ul",[r("li",[t._v("Ctrl-j Ctrl-n 都能往下，不过 Ctrl-j 在我的配置中是切换到下 pane 所以我只用 Ctrl-n")]),t._v(" "),r("li",[t._v("Ctrl-k Ctrl-p 都能往上，不过 Ctrl-k 在我的配置中是切换到上 pane 所以我只用 Ctrl-p")]),t._v(" "),r("li",[t._v("Ctrl-c 或者 Ctrl-g 或者 Ctrl-q 或者 Esc 用来退出 abort")]),t._v(" "),r("li",[t._v("Ctrl-h 退格键 backspace，不过这个键和 tmux vim 有冲突所以一般不用")]),t._v(" "),r("li",[t._v("Ctrl-a 光标跳转到开头 Ctrl-e 跳转到行结尾")]),t._v(" "),r("li",[t._v("Ctrl-w 向前删以 word")]),t._v(" "),r("li",[t._v("Ctrl-u 删除所有输入")])]),t._v(" "),r("p",[t._v("其实看到后面就发现很多快捷键其实是和 Bash/Shell 下一致的，其他更多的交互命令，可以参考 "),r("code",[t._v("man fzf")])]),t._v(" "),r("h2",{attrs:{id:"configuration"}},[t._v("Configuration"),r("a",{attrs:{href:"#configuration"}})]),t._v(" "),r("h3",{attrs:{id:"fzf-default-command"}},[t._v("FZF_DEFAULT_COMMAND"),r("a",{attrs:{href:"#fzf_default_command"}})]),t._v(" "),r("p",[t._v("fzf 默认查找文件使用的是系统的 "),r("code",[t._v("find")]),t._v(" 命令，你可以通过自定义该环境变量来更改使用其他命令比如 "),r("RouterLink",{attrs:{to:"/post/2019/04/the-silver-searcher.html"}},[t._v("ag")]),t._v(" 或者 "),r("RouterLink",{attrs:{to:"/post/2019/08/fd-find-entries-in-the-filesystem.html"}},[t._v("fd")])],1),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('# 这行配置开启 ag 查找隐藏文件 及忽略 .git 文件  export FZF_DEFAULT_COMMAND=\'ag --hidden --ignore .git -l -g ""\'  # or  export FZF_DEFAULT_COMMAND="fd --exclude={.git,.idea,.sass-cache,node_modules,build} --type f"\n')])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("h3",{attrs:{id:"fzf-default-opts"}},[t._v("FZF_DEFAULT_OPTS"),r("a",{attrs:{href:"#fzf_default_opts"}})]),t._v(" "),r("p",[t._v("该环境变量定义了 fzf 的参数：")]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("export FZF_DEFAULT_OPTS=\"--height 40% --layout=reverse --preview '(highlight -O ansi {} || cat {}) 2> /dev/null | head -500'\"\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("h2",{attrs:{id:"常见的一些操作"}},[t._v("常见的一些操作"),r("a",{attrs:{href:"#%E5%B8%B8%E8%A7%81%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C"}})]),t._v(" "),r("p",[t._v("fzf 最最常用的快捷键应该就是 Ctrl + r 和 Ctrl + t 了。Ctrl-r 用来在历史中搜索，Ctrl-t 用来搜索当前文件夹下的内容。")]),t._v(" "),r("h3",{attrs:{id:"历史记录搜索"}},[t._v("历史记录搜索"),r("a",{attrs:{href:"#%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E6%90%9C%E7%B4%A2"}})]),t._v(" "),r("p",[t._v("在没有使用 fzf 之前都是 Ctrl + r 来快速输入历史命令，用起来倒也没有太大的问题，fzf 使得 Ctrl-r 变得更加好用，按下 Ctrl-r 之后立即就能够显示之前的历史命令，通过模糊搜索能够展示一个列表，从列表中选择即可。")]),t._v(" "),r("h3",{attrs:{id:"历史命令-ctrl-r"}},[t._v("历史命令 Ctrl-r"),r("a",{attrs:{href:"#%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4-ctrl-r"}})]),t._v(" "),r("p",[t._v("在终端命令行下按下 Ctrl-r 会列出 history 命令目录，选中 Enter 离开 fzf 后，该条目会拷贝到命令行中。")]),t._v(" "),r("h3",{attrs:{id:"搜索当前文件夹-ctrl-t"}},[t._v("搜索当前文件夹 Ctrl-t"),r("a",{attrs:{href:"#%E6%90%9C%E7%B4%A2%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E5%A4%B9-ctrl-t"}})]),t._v(" "),r("p",[t._v("在命令行中按下 Ctrl-t 会打开 fzf 窗口，此时如果找到某文件，并选择 Enter，那么该文件名会被拷贝到命令行中。比如说想要打开某文件但是忘记了名字，那么可以先输入 "),r("code",[t._v("vi")]),t._v(" 然后按下 Ctrl-t 那么会出现 fzf 的搜索窗口，在窗口中可以模糊搜索文件，然后将文件路径及文件拷贝到命令行中。")]),t._v(" "),r("p",[t._v("同样的方式，如果要 "),r("code",[t._v("mv")]),t._v(" 一个文件，同样先输入 "),r("code",[t._v("mv")]),t._v(" 然后再 Ctrl-t 找到文件，继续输入目的地址即可。")]),t._v(" "),r("p",[t._v("如果想要更简单 fzf GitHub wiki 中展示了非常多的 Bash Shell 的配置 "),r("a",{attrs:{href:"#fn:wiki"}},[t._v("1")]),t._v("，比如可以定义命令 "),r("code",[t._v("fe")])]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('fe()  {  local files\n  IFS=$\'\\n\' files=($(fzf-tmux --query="$1"  --multi --select-1  --exit-0))  [[  -n "$files"  ]]  && ${EDITOR:-vim}  "${files[@]}"  }\n')])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br")])]),r("p",[t._v("那么在 shell 中直接输入 "),r("code",[t._v("fe")]),t._v(" 然后回车会自动出现当前目录的 fzf，选择文件之后回车即可用默认 "),r("code",[t._v("$EDITOR")]),t._v(" 打开文件。")]),t._v(" "),r("h3",{attrs:{id:"多选"}},[t._v("多选"),r("a",{attrs:{href:"#%E5%A4%9A%E9%80%89"}})]),t._v(" "),r("p",[t._v("假如在 fzf 选择窗口中想要选择多个文件，那么可以使用 "),r("code",[t._v("tab")]),t._v(" 来进行多选，使用 Ctrl-n, Ctrl-p 上下切换的时候，可以使用 Tab 来选中期望的文件进行多选操作。")]),t._v(" "),r("p",[t._v("比如移动，删除，或者编辑多个文件时可以使用。")]),t._v(" "),r("h3",{attrs:{id:"更改路径"}},[t._v("更改路径"),r("a",{attrs:{href:"#%E6%9B%B4%E6%94%B9%E8%B7%AF%E5%BE%84"}})]),t._v(" "),r("p",[t._v("在 fzf 之前最原始的方法就是 cd 然后输入一个词，不断的按 Tab 直到完整的输入 Path，回车。但假如 path 比较长，那么可能需要费一些时间找到真正想要去的目录，而如果用 fzf 配置")]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("fd()  {  local dir\n  dir=$(find ${1:-.}  -path '*/\\.*'  -prune \\ -o -type d -print  2>  /dev/null  | fzf +m)  && cd \"$dir\"  }\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br")])]),r("p",[t._v("在终端输入 "),r("code",[t._v("fd")]),t._v(" 然后搜索一下目录回车就能直接到该目录下，效率提升 x 倍。")]),t._v(" "),r("h3",{attrs:{id:"kill-process"}},[t._v("Kill Process"),r("a",{attrs:{href:"#kill-process"}})]),t._v(" "),r("p",[t._v("再比如说 "),r("code",[t._v("fkill")]),t._v(" 用来 kill process")]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('# fkill - kill process fkill()  {  local pid\n  pid=$(ps -ef | sed 1d  | fzf -m | awk \'{print $2}\')  if  [  "x$pid"  !=  "x"  ]  then echo $pid | xargs kill -${1:-9}  fi  }\n')])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br")])]),r("h3",{attrs:{id:"tmux"}},[t._v("Tmux"),r("a",{attrs:{href:"#tmux"}})]),t._v(" "),r("p",[t._v("再比如创建 Tmux session 一般都是 "),r("code",[t._v("tmux new -s new-session")]),t._v(" 创建，如果使用 "),r("a",{attrs:{href:"https://github.com/tmuxinator/tmuxinator",target:"_blank",rel:"noopener noreferrer"}},[t._v("tmuxinator"),r("OutboundLink")],1),t._v(" 则可能 "),r("code",[t._v("mux name")]),t._v(" 比较快，但是如果在 fzf 这里只需要 "),r("code",[t._v("tm new-session")])]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('# tm - create new tmux session, or switch to existing one. Works from within tmux too. (@bag-man)  # `tm` will allow you to select your tmux session via fzf.  # `tm irc` will attach to the irc session (if it exists), else it will create it. tm()  {  [[  -n "$TMUX"  ]]  && change="switch-client"  || change="attach-session"  if  [ $1 ];  then tmux $change -t "$1"  2>/dev/null  ||  (tmux new-session -d -s $1 && tmux $change -t "$1");  return  fi session=$(tmux list-sessions -F "#{session_name}"  2>/dev/null  | fzf --exit-0)  && tmux $change -t "$session"  || echo "No sessions found."  }\n')])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("p",[t._v("如果 session 不存在则会自动创建，使用 fs 可以快速选择目前可用的 session.")]),t._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('# fs [FUZZY PATTERN] - Select selected tmux session  #   - Bypass fuzzy finder if there\'s only one match (--select-1)  #   - Exit if there\'s no match (--exit-0) fs()  {  local session\n  session=$(tmux list-sessions -F "#{session_name}"  | \\\n    fzf --query="$1"  --select-1  --exit-0)  && tmux switch-client -t "$session"  }\n')])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br"),r("span",{staticClass:"line-number"},[t._v("2")]),r("br"),r("span",{staticClass:"line-number"},[t._v("3")]),r("br")])]),r("h3",{attrs:{id:"alt-c"}},[t._v("Alt-c"),r("a",{attrs:{href:"#alt-c"}})]),t._v(" "),r("p",[t._v("命令行中按下 Alt-c，会列出当前文件夹下的目录，选择后会直接进入该文件夹。")]),t._v(" "),r("h2",{attrs:{id:"搜索语法"}},[t._v("搜索语法"),r("a",{attrs:{href:"#%E6%90%9C%E7%B4%A2%E8%AF%AD%E6%B3%95"}})]),t._v(" "),r("p",[t._v("在上面一系列的基础操作后，对 fzf 应该有了一定的了解，那么知道 fzf 的搜索语法其实非常强大，在熟悉正则的基础上，用 fzf 搜索语法可以实现很多的组合，比如使用 "),r("code",[t._v("!")]),t._v(" 来表示不包含，比如 "),r("code",[t._v("!word")]),t._v(" 不包含 "),r("code",[t._v("word")]),t._v(" 的结果。")]),t._v(" "),r("p",[t._v("比如：")]),t._v(" "),r("ul",[r("li",[r("code",[t._v("^music")]),t._v(" 以 music 开头")]),t._v(" "),r("li",[r("code",[t._v("mp3$")]),t._v(" 以 mp3 结尾")]),t._v(" "),r("li",[r("code",[t._v("'word")]),t._v(" 严格匹配")]),t._v(" "),r("li",[r("code",[t._v("!word")]),t._v(" 不包含 word")]),t._v(" "),r("li",[r("code",[t._v("!.mp3$")]),t._v(" 不以 "),r("code",[t._v(".mp3")]),t._v(" 结尾")])]),t._v(" "),r("p",[t._v("等等，可以在官方网站上看到。")]),t._v(" "),r("h2",{attrs:{id:"扩展阅读"}},[t._v("扩展阅读"),r("a",{attrs:{href:"#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB"}})]),t._v(" "),r("p",[t._v("一些比较高效的搜索工具")]),t._v(" "),r("ul",[r("li",[t._v("find 目录搜索")]),t._v(" "),r("li",[t._v("fd 目录搜索")]),t._v(" "),r("li",[t._v("grep 文本内容搜索")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/ggreer/the_silver_searcher",target:"_blank",rel:"noopener noreferrer"}},[t._v("ag"),r("OutboundLink")],1),t._v(" 文本内容搜索")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/BurntSushi/ripgrep",target:"_blank",rel:"noopener noreferrer"}},[t._v("ripgrep"),r("OutboundLink")],1),t._v(" 文本内容搜索")])]),t._v(" "),r("h2",{attrs:{id:"reference"}},[t._v("reference"),r("a",{attrs:{href:"#reference"}})]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://revelry.co/terminal-workflow-fzf/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://revelry.co/terminal-workflow-fzf/"),r("OutboundLink")],1)])]),t._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/junegunn/fzf/wiki/examples",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/junegunn/fzf/wiki/examples"),r("OutboundLink")],1),t._v(" "),r("a",{attrs:{href:"#fnref:wiki"}},[t._v("↩")])])])])}),[],!1,null,null,null);e.default=a.exports}}]);